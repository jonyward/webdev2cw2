<html>
    <head>
    {{>header}}
    </head>
    <body>
    <nav class="navbar navbar-expand-sm navbar-dark sticky-top" style="background-color: #e8d3b9;">
    {{>navbar}}
    </nav>
    <div style="margin-top:50px">
    <div class="text-center">
    <h1>Update An Existing Dish</h1><hr><br>
    </div>
    <p class="text-center"> Provided below is a form allowing dishes already existing in the system to be edited.<br> The details of the dish that is being edited will be filled into the form. <br>All existing details about the dish can be edited, with the changes being updated to the public menu.</p><br>
    <div class="w-50 m-5 pb-5 mx-auto">
    <hr><form method="post" role="form" action="/update">
        <input type="hidden" id="id" name="id" value={{dish._id}}>
        <label for="name">Name:</label>
        <input style="width: 960px" type="text" id="name" name="name" placeholder="Please enter a dish name" required value="{{dish.name}}">
        <label for="description">Description</label>
        <input style="width: 960px" type="text" id="description" name="description" placeholder="Please enter a dish description" required value="{{dish.description}}"><br>
        <label for="ingredients">ingredients:</label>
        <input style="width: 960px" type="text" id="ingredients" name="ingredients" placeholder="Please enter dish ingredients" required value="{{dish.ingredients}}"><br>
        <label for="ingredients">Allergens:</label>
        <input style="width: 960px" type="text" id="allergens" name="allergens" placeholder="Please enter any any Allergens" required value="{{dish.allergens}}"><br>
        <label for="price">Price:</label>
        <input style="width: 960px" type="number" id="price" name="price" placeholder="Please enter dish price" required value="{{dish.price}}"><br><br>
        <label for="type">Type:</label>
        <select name="type" id="type" value="{{dish.type}}">
            <option value="Dinner">Dinner</option>
            <option value="Lunch">Lunch</option>
            <option value="Special">Special</option>
        </select><br><br>
        <label for="availability">Availability:</label>
        <select name="availability" id="availability" value="{{dish.availability}}">
            <option [ngValue]="true">True</option>
            <option [ngValue]="false">False</option>
        </select>
        <br><br>
        <input type="submit" value="Update"><hr>
    </form>
    </div>
    </div>
    </body>
    <script>
        var type = document.getElementById("type");
        var availability = document.getElementById("availability");
        if ("{{dish.type}}" === "Dinner"){
            type.selectedIndex = 0;
        } else if ("{{dish.type}}" === "Lunch"){
            type.selectedIndex = 1;
        } else if ("{{dish.type}}" === "Special") {
            type.selectedIndex = 2;
        }

        if ({{dish.availability}}){
            availability.selectedIndex = 0;
        } else {
            availability.selectedIndex = 1;
        }
    </script>
</html>